\subsection{Architecture of OBDH}
\label{subsec:OBDH_architecture}

The OBDH system is based on two redundant, single fault redundant C\&DH boxes, each including:
\begin{itemize}
    \item \textbf{RAD750 Computer:} a 3U radiation hardened single-board computer by BAE systems \cite{C&DH_power} with 256 MBytes of NVM flash memory (as EEPROM) and 128 MBytes of SFC DRAM local memory. \cite{juno_sito} The latter was chosen for its quick operations capabilities while EEPROM was selected due to its resilience to UV radiation. EDAC algorithms are employed on both kinds of memory to reduce data errors caused by radiation. The computer board is able to handle 100 Mbps of instrument throughput, much higher than needed for payloads requirements, and can operate at up to 200 MHz. It offers a substantial performance improvement over older rad-hard processors being capable of more than 400 MIPS (Dhrystone 2.1). The CPU itself can withstand a total radiation dose of up to 1 Mrad (Si) while the whole card has a much lower resistance of 50 Krad (Si). They are also characterized by a SEU of $<1.6 \cdot 10^{-10}$ errors/bit-day and $<3.62 \cdot 10^{-4}$ errors/card-day respectively. \cite{RAD750} Furthermore this computer has already been employed on various missions such as NASA's Mars Science Laboratory proving its effectiveness. \cite{batterie} 
    A general scheme of the RAD750 board is presented in \autoref{fig:RAD750 schema}.
    
    \cfig{RAD750 schema}{0.7}{General scheme of RAD750 SBC}

    \item \textbf{DTCI card:} it contains the interface between the C\&DH box and all the instruments of the spacecraft, while also providing science data storage capabilities. In particular 32 Gbits are available for data storage with a further 8 Gbits dedicated to EDAC. This is sufficient both for all science orbit downlink data requirements and representative stress cases. Unlike all other cards present in the C\&DH box it's characterized by a 6U format instead of a 3U one. \cite{juno_sito}
    \item \textbf{GIF card:} similarly to the DTCI card it provides the interface between the C\&DH boxes and all GN\&C hardware, namely the various attitude sensors and the twelve RCS thrusters. As maintaining proper functionality of the AOCS is of critical importance two GIF cards are present in each box, thus offering quadruple redundancy. Each card is also connected to both SDSTs trough MIL-STD-1553 \cite{MIL-STD-1553} busses. \cite{juno_telecommunication}   
    \item \textbf{ULDL card:} it also connects to the two SDSTs and, as the name implies, it's tasked with providing and controlling both the uplink (command) and downlink (telemetry and data) of the S/C. In this case only one card is installed in each box, but, similarly to the GIF cards, both C\&DH units are cross-strapped to both SDSTs. This connection, though, utilizes LVDS interfaces instead of MIL-STD-1553 busses. \cite{juno_telecommunication}  
    \item \textbf{cPCI bus:} an internal bus, comprised of an Eurocard-type connector and a PCI, that interconnects all of the C\&DH box hardware, allowing multiple processor cards to operate in a single system. cPCI busses are long lasting components, hence particularly suitable for missions like Juno.
    
    % aggiungiamo che sono standardized a 3u o 6u? in juno Ã¨ 3??

\end{itemize}
The two C\&DH boxes are further connected to the rest of the spacecraft with two sets of redundant RS-422 busses: a synchronous interface for science data  and an asynchronous interface for telemetry and command, both capable of a transfer rate of 57.6 Kbps. \cite{UVS_info} \cite{MWR_info} 
All P/Ls also feature individual computation capabilities and a certain level of local memory, with the only exception being the Gravity Science investigation since it relies only on the TMTC system. This architecture choice was selected as both the high number of P/Ls and their complexity meant that a centralized processor couldn't handle the required workload. As a consequence the P/Ls only communicate with the central C\&DH boxes to exchange processed data, commands and telemetry. A brief description of the internal data handling hardware of each P/L is shown below:
\begin{itemize}
    \item \textbf{JADE:} its IPB is powered by both an Atmel AT697E SPARC8, RISC processor and a Actel RTAX2000S-1 FPGA, the first one handles data computation while the second houses the logic control of the whole board. Three separate memories are present: 128 KB of PROM for boot code, 512 KB of EEPROM to store flight software and look-up tables and 4 MB of SRAM for codes and data during execution. Further SRAM is employed on the JSIB as a buffer for the incoming measurements from the sensors. \cite{JADE_info}
    \item \textbf{JEDI:} each sensor is wholly controlled by a single RTAX2000 FPGA together whit a soft-core processor embedded in it. 64 KB of PROM and 256 KB of EEPROM function as NVM, while 8 MB of SRAM support the processor operations. \cite{JEDI_info}
    \item \textbf{JunoCam:} it makes use of two Actel RTSX FPGAs: one is inside the CH to drive the CCD sensor and extract data from it while the second is housed in the electronics assembly and oversees data storage and communication with S/C. 128 MB of SDRAM serve as an image buffer. \cite{JunoCam_info}
    \item \textbf{MAG:} this instrument only requires basic logic functions supplied by two redundant radiation-hard Aeroflex UT6325 FPGAs which also provide 55 kbits of internal memory, sufficient for FGM data processing. \cite{MAG_info}
    \item \textbf{MWR:} All logic and computations are carried out by an Intel 8051 microcontroller and an FPGA. The flight software is burned into a PROM which can be updated through the S/C interface. \cite{MWR_info}
    \item \textbf{UVS:} All of the instrument's subsystems are controlled by an Intel 8051 processor implemented in a radiation-hardened FPGA with 32 kB of fuse programmable PROM, 128 kB of EEPROM, 32 kB of SRAM and 128 kB of acquisition memory for scientific data. \cite{UVS_info}
    \item \textbf{Waves:} it relies on two SoC architecture implemented in separated radiation tolerant FPGAs responsible for data processing and handling. The primary FPGA is based on a single processor core, the Y180s, running a custom OS developed by the University of Iowa. 32 KBytes of PROM are available to store the boot code, while 2 MBytes of RAM are used to store the OS and data during execution. The second FPGA houses the Waves FFT Engine, a programmable general-purpose digital signal processor tasked with capturing and analyzing scientific data. It makes use of 8 Mbytes of independent local memory due to the bandwidth requirements of the WvFE processor, to store programs, data and raw waveforms. \cite{Waves_info}  
    \item \textbf{JIRAM:} it's characterized by two separate data channels: one for the imager and one for the spectrometer. Its electronics box contains the DPU, the proximity, the main electronics (CPU board), the power supply and the limited angle de spinning mechanism driver board. \cite{JIRAM_info} As for memory the instrument has both a 537 Mbit hard partition and a 4000 Mbit soft partition: the first is used to store data during observation while the latter houses the same data until the downlink process occurs. \cite{JIRAM_info_2}      
\end{itemize}